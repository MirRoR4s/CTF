<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>body-parser &mdash; CTF 0.0 documentation</title>
      <link rel="stylesheet" href="../../../../../../../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../../../../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../../../../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../../../../../../../../../../../" id="documentation_options" src="../../../../../../../../../../../../_static/documentation_options.js?v=44496db0"></script>
        <script src="../../../../../../../../../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../../../../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../../../../../../index.html" class="icon icon-home">
            CTF
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Lexington-Informatics-Tournament.html">Lexington Informatics Tournament CTF 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Lexington-Informatics-Tournament.html#web">WEB</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../../../../../index.html">CTF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">body-parser</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../../../../../../_sources/source/2023/西湖论剑/WEB/real_ez_node/tempdir/WEB附件/docker/web1/src/node_modules/body-parser/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="body-parser">
<h1>body-parser<a class="headerlink" href="#body-parser" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://npmjs.org/package/body-parser"><img alt="NPM Version" src="https://img.shields.io/npm/v/body-parser.svg" /></a>
<a class="reference external" href="https://npmjs.org/package/body-parser"><img alt="NPM Downloads" src="https://img.shields.io/npm/dm/body-parser.svg" /></a>
<a class="reference external" href="https://travis-ci.org/expressjs/body-parser"><img alt="Build Status" src="https://img.shields.io/travis/expressjs/body-parser/master.svg" /></a>
<a class="reference external" href="https://coveralls.io/r/expressjs/body-parser?branch=master"><img alt="Test Coverage" src="https://img.shields.io/coveralls/expressjs/body-parser/master.svg" /></a></p>
<p>Node.js body parsing middleware.</p>
<p>Parse incoming request bodies in a middleware before your handlers, available
under the <code class="docutils literal notranslate"><span class="pre">req.body</span></code> property.</p>
<p><strong>Note</strong> As <code class="docutils literal notranslate"><span class="pre">req.body</span></code>’s shape is based on user-controlled input, all
properties and values in this object are untrusted and should be validated
before trusting. For example, <code class="docutils literal notranslate"><span class="pre">req.body.foo.toString()</span></code> may fail in multiple
ways, for example the <code class="docutils literal notranslate"><span class="pre">foo</span></code> property may not be there or may not be a string,
and <code class="docutils literal notranslate"><span class="pre">toString</span></code> may not be a function and instead a string or other user input.</p>
<p><a class="reference external" href="https://nodejs.org/en/docs/guides/anatomy-of-an-http-transaction/">Learn about the anatomy of an HTTP transaction in Node.js</a>.</p>
<p><em>This does not handle multipart bodies</em>, due to their complex and typically
large nature. For multipart bodies, you may be interested in the following
modules:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.npmjs.org/package/busboy#readme">busboy</a> and
<a class="reference external" href="https://www.npmjs.org/package/connect-busboy#readme">connect-busboy</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.org/package/multiparty#readme">multiparty</a> and
<a class="reference external" href="https://www.npmjs.org/package/connect-multiparty#readme">connect-multiparty</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.org/package/formidable#readme">formidable</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.org/package/multer#readme">multer</a></p></li>
</ul>
<p>This module provides the following parsers:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bodyparserjsonoptions"><span class="xref myst">JSON body parser</span></a></p></li>
<li><p><a class="reference internal" href="#bodyparserrawoptions"><span class="xref myst">Raw body parser</span></a></p></li>
<li><p><a class="reference internal" href="#bodyparsertextoptions"><span class="xref myst">Text body parser</span></a></p></li>
<li><p><a class="reference internal" href="#bodyparserurlencodedoptions"><span class="xref myst">URL-encoded form body parser</span></a></p></li>
</ul>
<p>Other body parsers you might be interested in:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.npmjs.org/package/body#readme">body</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.org/package/co-body#readme">co-body</a></p></li>
</ul>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>npm<span class="w"> </span>install<span class="w"> </span>body-parser
</pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h2>
<!-- eslint-disable no-unused-vars -->
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">bodyParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">bodyParser</span></code> object exposes various factories to create middlewares. All
middlewares will populate the <code class="docutils literal notranslate"><span class="pre">req.body</span></code> property with the parsed body when
the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> request header matches the <code class="docutils literal notranslate"><span class="pre">type</span></code> option, or an empty
object (<code class="docutils literal notranslate"><span class="pre">{}</span></code>) if there was no body to parse, the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> was not matched,
or an error occurred.</p>
<p>The various errors returned by this module are described in the
<a class="reference internal" href="#errors"><span class="xref myst">errors section</span></a>.</p>
<section id="bodyparser-json-options">
<h3>bodyParser.json([options])<a class="headerlink" href="#bodyparser-json-options" title="Permalink to this heading"></a></h3>
<p>Returns middleware that only parses <code class="docutils literal notranslate"><span class="pre">json</span></code> and only looks at requests where
the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header matches the <code class="docutils literal notranslate"><span class="pre">type</span></code> option. This parser accepts any
Unicode encoding of the body and supports automatic inflation of <code class="docutils literal notranslate"><span class="pre">gzip</span></code> and
<code class="docutils literal notranslate"><span class="pre">deflate</span></code> encodings.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">body</span></code> object containing the parsed data is populated on the <code class="docutils literal notranslate"><span class="pre">request</span></code>
object after the middleware (i.e. <code class="docutils literal notranslate"><span class="pre">req.body</span></code>).</p>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">json</span></code> function takes an optional <code class="docutils literal notranslate"><span class="pre">options</span></code> object that may contain any of
the following keys:</p>
<section id="inflate">
<h5>inflate<a class="headerlink" href="#inflate" title="Permalink to this heading"></a></h5>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, then deflated (compressed) bodies will be inflated; when
<code class="docutils literal notranslate"><span class="pre">false</span></code>, deflated bodies are rejected. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="limit">
<h5>limit<a class="headerlink" href="#limit" title="Permalink to this heading"></a></h5>
<p>Controls the maximum request body size. If this is a number, then the value
specifies the number of bytes; if it is a string, the value is passed to the
<a class="reference external" href="https://www.npmjs.com/package/bytes">bytes</a> library for parsing. Defaults
to <code class="docutils literal notranslate"><span class="pre">'100kb'</span></code>.</p>
</section>
<section id="reviver">
<h5>reviver<a class="headerlink" href="#reviver" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">reviver</span></code> option is passed directly to <code class="docutils literal notranslate"><span class="pre">JSON.parse</span></code> as the second
argument. You can find more information on this argument
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Example.3A_Using_the_reviver_parameter">in the MDN documentation about JSON.parse</a>.</p>
</section>
<section id="strict">
<h5>strict<a class="headerlink" href="#strict" title="Permalink to this heading"></a></h5>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, will only accept arrays and objects; when <code class="docutils literal notranslate"><span class="pre">false</span></code> will
accept anything <code class="docutils literal notranslate"><span class="pre">JSON.parse</span></code> accepts. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="type">
<h5>type<a class="headerlink" href="#type" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> option is used to determine what media type the middleware will
parse. This option can be a string, array of strings, or a function. If not a
function, <code class="docutils literal notranslate"><span class="pre">type</span></code> option is passed directly to the
<a class="reference external" href="https://www.npmjs.org/package/type-is#readme">type-is</a> library and this can
be an extension name (like <code class="docutils literal notranslate"><span class="pre">json</span></code>), a mime type (like <code class="docutils literal notranslate"><span class="pre">application/json</span></code>), or
a mime type with a wildcard (like <code class="docutils literal notranslate"><span class="pre">*/*</span></code> or <code class="docutils literal notranslate"><span class="pre">*/json</span></code>). If a function, the <code class="docutils literal notranslate"><span class="pre">type</span></code>
option is called as <code class="docutils literal notranslate"><span class="pre">fn(req)</span></code> and the request is parsed if it returns a truthy
value. Defaults to <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p>
</section>
<section id="verify">
<h5>verify<a class="headerlink" href="#verify" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">verify</span></code> option, if supplied, is called as <code class="docutils literal notranslate"><span class="pre">verify(req,</span> <span class="pre">res,</span> <span class="pre">buf,</span> <span class="pre">encoding)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">buf</span></code> is a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> of the raw request body and <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is the
encoding of the request. The parsing can be aborted by throwing an error.</p>
</section>
</section>
</section>
<section id="bodyparser-raw-options">
<h3>bodyParser.raw([options])<a class="headerlink" href="#bodyparser-raw-options" title="Permalink to this heading"></a></h3>
<p>Returns middleware that parses all bodies as a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> and only looks at
requests where the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header matches the <code class="docutils literal notranslate"><span class="pre">type</span></code> option. This
parser supports automatic inflation of <code class="docutils literal notranslate"><span class="pre">gzip</span></code> and <code class="docutils literal notranslate"><span class="pre">deflate</span></code> encodings.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">body</span></code> object containing the parsed data is populated on the <code class="docutils literal notranslate"><span class="pre">request</span></code>
object after the middleware (i.e. <code class="docutils literal notranslate"><span class="pre">req.body</span></code>). This will be a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> object
of the body.</p>
<section id="id1">
<h4>Options<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">raw</span></code> function takes an optional <code class="docutils literal notranslate"><span class="pre">options</span></code> object that may contain any of
the following keys:</p>
<section id="id2">
<h5>inflate<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h5>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, then deflated (compressed) bodies will be inflated; when
<code class="docutils literal notranslate"><span class="pre">false</span></code>, deflated bodies are rejected. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="id3">
<h5>limit<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h5>
<p>Controls the maximum request body size. If this is a number, then the value
specifies the number of bytes; if it is a string, the value is passed to the
<a class="reference external" href="https://www.npmjs.com/package/bytes">bytes</a> library for parsing. Defaults
to <code class="docutils literal notranslate"><span class="pre">'100kb'</span></code>.</p>
</section>
<section id="id4">
<h5>type<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> option is used to determine what media type the middleware will
parse. This option can be a string, array of strings, or a function.
If not a function, <code class="docutils literal notranslate"><span class="pre">type</span></code> option is passed directly to the
<a class="reference external" href="https://www.npmjs.org/package/type-is#readme">type-is</a> library and this
can be an extension name (like <code class="docutils literal notranslate"><span class="pre">bin</span></code>), a mime type (like
<code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code>), or a mime type with a wildcard (like <code class="docutils literal notranslate"><span class="pre">*/*</span></code> or
<code class="docutils literal notranslate"><span class="pre">application/*</span></code>). If a function, the <code class="docutils literal notranslate"><span class="pre">type</span></code> option is called as <code class="docutils literal notranslate"><span class="pre">fn(req)</span></code>
and the request is parsed if it returns a truthy value. Defaults to
<code class="docutils literal notranslate"><span class="pre">application/octet-stream</span></code>.</p>
</section>
<section id="id5">
<h5>verify<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">verify</span></code> option, if supplied, is called as <code class="docutils literal notranslate"><span class="pre">verify(req,</span> <span class="pre">res,</span> <span class="pre">buf,</span> <span class="pre">encoding)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">buf</span></code> is a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> of the raw request body and <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is the
encoding of the request. The parsing can be aborted by throwing an error.</p>
</section>
</section>
</section>
<section id="bodyparser-text-options">
<h3>bodyParser.text([options])<a class="headerlink" href="#bodyparser-text-options" title="Permalink to this heading"></a></h3>
<p>Returns middleware that parses all bodies as a string and only looks at
requests where the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header matches the <code class="docutils literal notranslate"><span class="pre">type</span></code> option. This
parser supports automatic inflation of <code class="docutils literal notranslate"><span class="pre">gzip</span></code> and <code class="docutils literal notranslate"><span class="pre">deflate</span></code> encodings.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">body</span></code> string containing the parsed data is populated on the <code class="docutils literal notranslate"><span class="pre">request</span></code>
object after the middleware (i.e. <code class="docutils literal notranslate"><span class="pre">req.body</span></code>). This will be a string of the
body.</p>
<section id="id6">
<h4>Options<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">text</span></code> function takes an optional <code class="docutils literal notranslate"><span class="pre">options</span></code> object that may contain any of
the following keys:</p>
<section id="defaultcharset">
<h5>defaultCharset<a class="headerlink" href="#defaultcharset" title="Permalink to this heading"></a></h5>
<p>Specify the default character set for the text content if the charset is not
specified in the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header of the request. Defaults to <code class="docutils literal notranslate"><span class="pre">utf-8</span></code>.</p>
</section>
<section id="id7">
<h5>inflate<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h5>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, then deflated (compressed) bodies will be inflated; when
<code class="docutils literal notranslate"><span class="pre">false</span></code>, deflated bodies are rejected. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="id8">
<h5>limit<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h5>
<p>Controls the maximum request body size. If this is a number, then the value
specifies the number of bytes; if it is a string, the value is passed to the
<a class="reference external" href="https://www.npmjs.com/package/bytes">bytes</a> library for parsing. Defaults
to <code class="docutils literal notranslate"><span class="pre">'100kb'</span></code>.</p>
</section>
<section id="id9">
<h5>type<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> option is used to determine what media type the middleware will
parse. This option can be a string, array of strings, or a function. If not
a function, <code class="docutils literal notranslate"><span class="pre">type</span></code> option is passed directly to the
<a class="reference external" href="https://www.npmjs.org/package/type-is#readme">type-is</a> library and this can
be an extension name (like <code class="docutils literal notranslate"><span class="pre">txt</span></code>), a mime type (like <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>), or a mime
type with a wildcard (like <code class="docutils literal notranslate"><span class="pre">*/*</span></code> or <code class="docutils literal notranslate"><span class="pre">text/*</span></code>). If a function, the <code class="docutils literal notranslate"><span class="pre">type</span></code>
option is called as <code class="docutils literal notranslate"><span class="pre">fn(req)</span></code> and the request is parsed if it returns a
truthy value. Defaults to <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>.</p>
</section>
<section id="id10">
<h5>verify<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">verify</span></code> option, if supplied, is called as <code class="docutils literal notranslate"><span class="pre">verify(req,</span> <span class="pre">res,</span> <span class="pre">buf,</span> <span class="pre">encoding)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">buf</span></code> is a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> of the raw request body and <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is the
encoding of the request. The parsing can be aborted by throwing an error.</p>
</section>
</section>
</section>
<section id="bodyparser-urlencoded-options">
<h3>bodyParser.urlencoded([options])<a class="headerlink" href="#bodyparser-urlencoded-options" title="Permalink to this heading"></a></h3>
<p>Returns middleware that only parses <code class="docutils literal notranslate"><span class="pre">urlencoded</span></code> bodies and only looks at
requests where the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header matches the <code class="docutils literal notranslate"><span class="pre">type</span></code> option. This
parser accepts only UTF-8 encoding of the body and supports automatic
inflation of <code class="docutils literal notranslate"><span class="pre">gzip</span></code> and <code class="docutils literal notranslate"><span class="pre">deflate</span></code> encodings.</p>
<p>A new <code class="docutils literal notranslate"><span class="pre">body</span></code> object containing the parsed data is populated on the <code class="docutils literal notranslate"><span class="pre">request</span></code>
object after the middleware (i.e. <code class="docutils literal notranslate"><span class="pre">req.body</span></code>). This object will contain
key-value pairs, where the value can be a string or array (when <code class="docutils literal notranslate"><span class="pre">extended</span></code> is
<code class="docutils literal notranslate"><span class="pre">false</span></code>), or any type (when <code class="docutils literal notranslate"><span class="pre">extended</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
<section id="id11">
<h4>Options<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">urlencoded</span></code> function takes an optional <code class="docutils literal notranslate"><span class="pre">options</span></code> object that may contain
any of the following keys:</p>
<section id="extended">
<h5>extended<a class="headerlink" href="#extended" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">extended</span></code> option allows to choose between parsing the URL-encoded data
with the <code class="docutils literal notranslate"><span class="pre">querystring</span></code> library (when <code class="docutils literal notranslate"><span class="pre">false</span></code>) or the <code class="docutils literal notranslate"><span class="pre">qs</span></code> library (when
<code class="docutils literal notranslate"><span class="pre">true</span></code>). The “extended” syntax allows for rich objects and arrays to be
encoded into the URL-encoded format, allowing for a JSON-like experience
with URL-encoded. For more information, please
<a class="reference external" href="https://www.npmjs.org/package/qs#readme">see the qs library</a>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>, but using the default has been deprecated. Please
research into the difference between <code class="docutils literal notranslate"><span class="pre">qs</span></code> and <code class="docutils literal notranslate"><span class="pre">querystring</span></code> and choose the
appropriate setting.</p>
</section>
<section id="id12">
<h5>inflate<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h5>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, then deflated (compressed) bodies will be inflated; when
<code class="docutils literal notranslate"><span class="pre">false</span></code>, deflated bodies are rejected. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
<section id="id13">
<h5>limit<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h5>
<p>Controls the maximum request body size. If this is a number, then the value
specifies the number of bytes; if it is a string, the value is passed to the
<a class="reference external" href="https://www.npmjs.com/package/bytes">bytes</a> library for parsing. Defaults
to <code class="docutils literal notranslate"><span class="pre">'100kb'</span></code>.</p>
</section>
<section id="parameterlimit">
<h5>parameterLimit<a class="headerlink" href="#parameterlimit" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">parameterLimit</span></code> option controls the maximum number of parameters that
are allowed in the URL-encoded data. If a request contains more parameters
than this value, a 413 will be returned to the client. Defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code>.</p>
</section>
<section id="id14">
<h5>type<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> option is used to determine what media type the middleware will
parse. This option can be a string, array of strings, or a function. If not
a function, <code class="docutils literal notranslate"><span class="pre">type</span></code> option is passed directly to the
<a class="reference external" href="https://www.npmjs.org/package/type-is#readme">type-is</a> library and this can
be an extension name (like <code class="docutils literal notranslate"><span class="pre">urlencoded</span></code>), a mime type (like
<code class="docutils literal notranslate"><span class="pre">application/x-www-form-urlencoded</span></code>), or a mime type with a wildcard (like
<code class="docutils literal notranslate"><span class="pre">*/x-www-form-urlencoded</span></code>). If a function, the <code class="docutils literal notranslate"><span class="pre">type</span></code> option is called as
<code class="docutils literal notranslate"><span class="pre">fn(req)</span></code> and the request is parsed if it returns a truthy value. Defaults
to <code class="docutils literal notranslate"><span class="pre">application/x-www-form-urlencoded</span></code>.</p>
</section>
<section id="id15">
<h5>verify<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">verify</span></code> option, if supplied, is called as <code class="docutils literal notranslate"><span class="pre">verify(req,</span> <span class="pre">res,</span> <span class="pre">buf,</span> <span class="pre">encoding)</span></code>,
where <code class="docutils literal notranslate"><span class="pre">buf</span></code> is a <code class="docutils literal notranslate"><span class="pre">Buffer</span></code> of the raw request body and <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is the
encoding of the request. The parsing can be aborted by throwing an error.</p>
</section>
</section>
</section>
</section>
<section id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this heading"></a></h2>
<p>The middlewares provided by this module create errors depending on the error
condition during parsing. The errors will typically have a <code class="docutils literal notranslate"><span class="pre">status</span></code>/<code class="docutils literal notranslate"><span class="pre">statusCode</span></code>
property that contains the suggested HTTP response code, an <code class="docutils literal notranslate"><span class="pre">expose</span></code> property
to determine if the <code class="docutils literal notranslate"><span class="pre">message</span></code> property should be displayed to the client, a
<code class="docutils literal notranslate"><span class="pre">type</span></code> property to determine the type of error without matching against the
<code class="docutils literal notranslate"><span class="pre">message</span></code>, and a <code class="docutils literal notranslate"><span class="pre">body</span></code> property containing the read body, if available.</p>
<p>The following are the common errors emitted, though any error can come through
for various reasons.</p>
<section id="content-encoding-unsupported">
<h3>content encoding unsupported<a class="headerlink" href="#content-encoding-unsupported" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request had a <code class="docutils literal notranslate"><span class="pre">Content-Encoding</span></code> header that
contained an encoding but the “inflation” option was set to <code class="docutils literal notranslate"><span class="pre">false</span></code>. The
<code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">415</span></code>, the <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to
<code class="docutils literal notranslate"><span class="pre">'encoding.unsupported'</span></code>, and the <code class="docutils literal notranslate"><span class="pre">charset</span></code> property will be set to the
encoding that is unsupported.</p>
</section>
<section id="request-aborted">
<h3>request aborted<a class="headerlink" href="#request-aborted" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request is aborted by the client before reading
the body has finished. The <code class="docutils literal notranslate"><span class="pre">received</span></code> property will be set to the number of
bytes received before the request was aborted and the <code class="docutils literal notranslate"><span class="pre">expected</span></code> property is
set to the number of expected bytes. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">400</span></code>
and <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'request.aborted'</span></code>.</p>
</section>
<section id="request-entity-too-large">
<h3>request entity too large<a class="headerlink" href="#request-entity-too-large" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request body’s size is larger than the “limit”
option. The <code class="docutils literal notranslate"><span class="pre">limit</span></code> property will be set to the byte limit and the <code class="docutils literal notranslate"><span class="pre">length</span></code>
property will be set to the request body’s length. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is
set to <code class="docutils literal notranslate"><span class="pre">413</span></code> and the <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'entity.too.large'</span></code>.</p>
</section>
<section id="request-size-did-not-match-content-length">
<h3>request size did not match content length<a class="headerlink" href="#request-size-did-not-match-content-length" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request’s length did not match the length from
the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header. This typically occurs when the request is malformed,
typically when the <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header was calculated based on characters
instead of bytes. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">400</span></code> and the <code class="docutils literal notranslate"><span class="pre">type</span></code> property
is set to <code class="docutils literal notranslate"><span class="pre">'request.size.invalid'</span></code>.</p>
</section>
<section id="stream-encoding-should-not-be-set">
<h3>stream encoding should not be set<a class="headerlink" href="#stream-encoding-should-not-be-set" title="Permalink to this heading"></a></h3>
<p>This error will occur when something called the <code class="docutils literal notranslate"><span class="pre">req.setEncoding</span></code> method prior
to this middleware. This module operates directly on bytes only and you cannot
call <code class="docutils literal notranslate"><span class="pre">req.setEncoding</span></code> when using this module. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to
<code class="docutils literal notranslate"><span class="pre">500</span></code> and the <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'stream.encoding.set'</span></code>.</p>
</section>
<section id="too-many-parameters">
<h3>too many parameters<a class="headerlink" href="#too-many-parameters" title="Permalink to this heading"></a></h3>
<p>This error will occur when the content of the request exceeds the configured
<code class="docutils literal notranslate"><span class="pre">parameterLimit</span></code> for the <code class="docutils literal notranslate"><span class="pre">urlencoded</span></code> parser. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to
<code class="docutils literal notranslate"><span class="pre">413</span></code> and the <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'parameters.too.many'</span></code>.</p>
</section>
<section id="unsupported-charset-bogus">
<h3>unsupported charset “BOGUS”<a class="headerlink" href="#unsupported-charset-bogus" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request had a charset parameter in the
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header, but the <code class="docutils literal notranslate"><span class="pre">iconv-lite</span></code> module does not support it OR the
parser does not support it. The charset is contained in the message as well
as in the <code class="docutils literal notranslate"><span class="pre">charset</span></code> property. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">415</span></code>, the
<code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'charset.unsupported'</span></code>, and the <code class="docutils literal notranslate"><span class="pre">charset</span></code> property
is set to the charset that is unsupported.</p>
</section>
<section id="unsupported-content-encoding-bogus">
<h3>unsupported content encoding “bogus”<a class="headerlink" href="#unsupported-content-encoding-bogus" title="Permalink to this heading"></a></h3>
<p>This error will occur when the request had a <code class="docutils literal notranslate"><span class="pre">Content-Encoding</span></code> header that
contained an unsupported encoding. The encoding is contained in the message
as well as in the <code class="docutils literal notranslate"><span class="pre">encoding</span></code> property. The <code class="docutils literal notranslate"><span class="pre">status</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">415</span></code>,
the <code class="docutils literal notranslate"><span class="pre">type</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">'encoding.unsupported'</span></code>, and the <code class="docutils literal notranslate"><span class="pre">encoding</span></code>
property is set to the encoding that is unsupported.</p>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<section id="express-connect-top-level-generic">
<h3>Express/Connect top-level generic<a class="headerlink" href="#express-connect-top-level-generic" title="Permalink to this heading"></a></h3>
<p>This example demonstrates adding a generic JSON and URL-encoded parser as a
top-level middleware, which will parse the bodies of all incoming requests.
This is the simplest setup.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">bodyParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">)</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">express</span><span class="p">()</span>

<span class="c1">// parse application/x-www-form-urlencoded</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span><span class="w"> </span><span class="nx">extended</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">}))</span>

<span class="c1">// parse application/json</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;text/plain&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;you posted:\n&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">))</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="express-route-specific">
<h3>Express route-specific<a class="headerlink" href="#express-route-specific" title="Permalink to this heading"></a></h3>
<p>This example demonstrates adding body parsers specifically to the routes that
need them. In general, this is the most recommended way to use body-parser with
Express.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">bodyParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">)</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">express</span><span class="p">()</span>

<span class="c1">// create application/json parser</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">jsonParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>

<span class="c1">// create application/x-www-form-urlencoded parser</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">urlencodedParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span><span class="w"> </span><span class="nx">extended</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="p">})</span>

<span class="c1">// POST /login gets urlencoded bodies</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">urlencodedParser</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">sendStatus</span><span class="p">(</span><span class="mf">400</span><span class="p">)</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">&#39;welcome, &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">username</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// POST /api/users gets JSON bodies</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/api/users&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">jsonParser</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">sendStatus</span><span class="p">(</span><span class="mf">400</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// create user in req.body</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="change-accepted-type-for-parsers">
<h3>Change accepted type for parsers<a class="headerlink" href="#change-accepted-type-for-parsers" title="Permalink to this heading"></a></h3>
<p>All the parsers accept a <code class="docutils literal notranslate"><span class="pre">type</span></code> option which allows you to change the
<code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> that the middleware will parse.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">express</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">bodyParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;body-parser&#39;</span><span class="p">)</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">app</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">express</span><span class="p">()</span>

<span class="c1">// parse various different custom JSON types as JSON</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/*+json&#39;</span><span class="w"> </span><span class="p">}))</span>

<span class="c1">// parse some custom thing into a Buffer</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">raw</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/vnd.custom-type&#39;</span><span class="w"> </span><span class="p">}))</span>

<span class="c1">// parse an HTML body into a string</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">text</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;text/html&#39;</span><span class="w"> </span><span class="p">}))</span>
</pre></div>
</div>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h2>
<p><a class="reference download internal" download="" href="../../../../../../../../../../../../_downloads/88d84afb458155c7f84a365dd31e5286/LICENSE"><span class="xref download myst">MIT</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, MirRoR4s.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>