<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Acorn &mdash; CTF 0.0 documentation</title>
      <link rel="stylesheet" href="../../../../../../../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../../../../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../../../../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../../../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../../../../../../../../../../../../" id="documentation_options" src="../../../../../../../../../../../../_static/documentation_options.js?v=44496db0"></script>
        <script src="../../../../../../../../../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../../../../../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../../../../../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../../../../../../../index.html" class="icon icon-home">
            CTF
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Lexington-Informatics-Tournament.html">Lexington Informatics Tournament CTF 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Lexington-Informatics-Tournament.html#web">WEB</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../../../../../../../index.html">CTF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Acorn</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../../../../../../../_sources/source/2023/西湖论剑/WEB/real_ez_node/tempdir/WEB附件/docker/web1/src/node_modules/acorn/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="acorn">
<h1>Acorn<a class="headerlink" href="#acorn" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://travis-ci.org/ternjs/acorn"><img alt="Build Status" src="https://travis-ci.org/ternjs/acorn.svg?branch=master" /></a>
<a class="reference external" href="https://www.npmjs.com/package/acorn"><img alt="NPM version" src="https://img.shields.io/npm/v/acorn.svg" /></a><br />
<a class="reference external" href="https://marijnhaverbeke.nl/fund/">Author funding status: <img alt="maintainer happiness" src="https://marijnhaverbeke.nl/fund/status_s.png?force" /></a></p>
<p>A tiny, fast JavaScript parser, written completely in JavaScript.</p>
<section id="community">
<h2>Community<a class="headerlink" href="#community" title="Permalink to this heading"></a></h2>
<p>Acorn is open source software released under an
<a class="reference external" href="https://github.com/ternjs/acorn/blob/master/LICENSE">MIT license</a>.</p>
<p>You are welcome to
<a class="reference external" href="https://github.com/ternjs/acorn/issues">report bugs</a> or create pull
requests on <a class="reference external" href="https://github.com/ternjs/acorn">github</a>. For questions
and discussion, please use the
<a class="reference external" href="https://discuss.ternjs.net">Tern discussion forum</a>.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h2>
<p>The easiest way to install acorn is with <a class="reference external" href="https://www.npmjs.com/"><code class="docutils literal notranslate"><span class="pre">npm</span></code></a>.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>npm<span class="w"> </span>install<span class="w"> </span>acorn
</pre></div>
</div>
<p>Alternately, download the source.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ternjs/acorn.git
</pre></div>
</div>
</section>
<section id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this heading"></a></h2>
<p>When run in a CommonJS (node.js) or AMD environment, exported values
appear in the interfaces exposed by the individual files, as usual.
When loaded in the browser (Acorn works in any JS-enabled browser more
recent than IE5) without any kind of module management, a single
global object <code class="docutils literal notranslate"><span class="pre">acorn</span></code> will be defined, and all the exported properties
will be added to that.</p>
<section id="main-parser">
<h3>Main parser<a class="headerlink" href="#main-parser" title="Permalink to this heading"></a></h3>
<p>This is implemented in <code class="docutils literal notranslate"><span class="pre">dist/acorn.js</span></code>, and is what you get when you
<code class="docutils literal notranslate"><span class="pre">require(&quot;acorn&quot;)</span></code> in node.js.</p>
<p><strong>parse</strong><code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">options)</span></code> is used to parse a JavaScript program.
The <code class="docutils literal notranslate"><span class="pre">input</span></code> parameter is a string, <code class="docutils literal notranslate"><span class="pre">options</span></code> can be undefined or an
object setting some of the options listed below. The return value will
be an abstract syntax tree object as specified by the
<a class="reference external" href="https://github.com/estree/estree">ESTree spec</a>.</p>
<p>When  encountering   a  syntax   error,  the   parser  will   raise  a
<code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> object with a meaningful  message. The error object will
have a <code class="docutils literal notranslate"><span class="pre">pos</span></code> property that indicates the character offset at which the
error occurred,  and a <code class="docutils literal notranslate"><span class="pre">loc</span></code>  object that contains a  <code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code>
object referring to that same position.</p>
<ul>
<li><p><strong>ecmaVersion</strong>: Indicates the ECMAScript version to parse. Must be
either 3, 5, 6, or 7. This influences support for strict mode, the set
of reserved words, and support for new syntax features. Default is 6.</p>
<p><strong>NOTE</strong>: Only ‘stage 4’ (finalized) ECMAScript 7 features are being
implemented by Acorn. That means that most of the draft standard is
not yet being parsed.</p>
</li>
<li><p><strong>sourceType</strong>: Indicate the mode the code should be parsed in. Can be
either <code class="docutils literal notranslate"><span class="pre">&quot;script&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>.</p></li>
<li><p><strong>onInsertedSemicolon</strong>: If given a callback, that callback will be
called whenever a missing semicolon is inserted by the parser. The
callback will be given the character offset of the point where the
semicolon is inserted as argument, and if <code class="docutils literal notranslate"><span class="pre">locations</span></code> is on, also a
<code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code> object representing this position.</p></li>
<li><p><strong>onTrailingComma</strong>: Like <code class="docutils literal notranslate"><span class="pre">onInsertedSemicolon</span></code>, but for trailing
commas.</p></li>
<li><p><strong>allowReserved</strong>: If <code class="docutils literal notranslate"><span class="pre">false</span></code>, using a reserved word will generate
an error. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code> for <code class="docutils literal notranslate"><span class="pre">ecmaVersion</span></code> 3, <code class="docutils literal notranslate"><span class="pre">false</span></code> for higher
versions. When given the value <code class="docutils literal notranslate"><span class="pre">&quot;never&quot;</span></code>, reserved words and
keywords can also not be used as property names (as in Internet
Explorer’s old parser).</p></li>
<li><p><strong>allowReturnOutsideFunction</strong>: By default, a return statement at
the top level raises an error. Set this to <code class="docutils literal notranslate"><span class="pre">true</span></code> to accept such
code.</p></li>
<li><p><strong>allowImportExportEverywhere</strong>: By default, <code class="docutils literal notranslate"><span class="pre">import</span></code> and <code class="docutils literal notranslate"><span class="pre">export</span></code>
declarations can only appear at a program’s top level. Setting this
option to <code class="docutils literal notranslate"><span class="pre">true</span></code> allows them anywhere where a statement is allowed.</p></li>
<li><p><strong>allowHashBang</strong>: When this is enabled (off by default), if the
code starts with the characters <code class="docutils literal notranslate"><span class="pre">#!</span></code> (as in a shellscript), the
first line will be treated as a comment.</p></li>
<li><p><strong>locations</strong>: When <code class="docutils literal notranslate"><span class="pre">true</span></code>, each node has a <code class="docutils literal notranslate"><span class="pre">loc</span></code> object attached
with <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> subobjects, each of which contains the
one-based line and zero-based column numbers in <code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code>
form. Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>onToken</strong>: If a function is passed for this option, each found
token will be passed in same format as tokens returned from
<code class="docutils literal notranslate"><span class="pre">tokenizer().getToken()</span></code>.</p>
<p>If array is passed, each found token is pushed to it.</p>
<p>Note that you are not allowed to call the parser from the
callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>onComment</strong>: If a function is passed for this option, whenever a
comment is encountered the function will be called with the
following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">block</span></code>: <code class="docutils literal notranslate"><span class="pre">true</span></code> if the comment is a block comment, false if it
is a line comment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code>: The content of the comment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: Character offset of the start of the comment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code>: Character offset of the end of the comment.</p></li>
</ul>
<p>When the <code class="docutils literal notranslate"><span class="pre">locations</span></code> options is on, the <code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code> locations
of the comment’s start and end are passed as two additional
parameters.</p>
<p>If array is passed for this option, each found comment is pushed
to it as object in Esprima format:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Line&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;Block&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;value&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;comment text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;start&quot;</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;end&quot;</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// If `locations` option is on:</span>
<span class="w">  </span><span class="s2">&quot;loc&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;start&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">line</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="nx">column</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">}</span>
<span class="w">    </span><span class="s2">&quot;end&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">line</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="nx">column</span><span class="o">:</span><span class="w"> </span><span class="nb">Number</span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// If `ranges` option is on:</span>
<span class="w">  </span><span class="s2">&quot;range&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="nb">Number</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you are not allowed to call the parser from the
callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>ranges</strong>: Nodes have their start and end characters offsets
recorded in <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> properties (directly on the node,
rather than the <code class="docutils literal notranslate"><span class="pre">loc</span></code> object, which holds line/column data. To also
add a <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678">semi-standardized</a> <code class="docutils literal notranslate"><span class="pre">range</span></code> property holding a
<code class="docutils literal notranslate"><span class="pre">[start,</span> <span class="pre">end]</span></code> array with the same numbers, set the <code class="docutils literal notranslate"><span class="pre">ranges</span></code> option
to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><strong>program</strong>: It is possible to parse multiple files into a single
AST by passing the tree produced by parsing the first file as the
<code class="docutils literal notranslate"><span class="pre">program</span></code> option in subsequent parses. This will add the toplevel
forms of the parsed file to the “Program” (top) node of an existing
parse tree.</p></li>
<li><p><strong>sourceFile</strong>: When the <code class="docutils literal notranslate"><span class="pre">locations</span></code> option is <code class="docutils literal notranslate"><span class="pre">true</span></code>, you can pass
this option to add a <code class="docutils literal notranslate"><span class="pre">source</span></code> attribute in every node’s <code class="docutils literal notranslate"><span class="pre">loc</span></code>
object. Note that the contents of this option are not examined or
processed in any way; you are free to use whatever format you
choose.</p></li>
<li><p><strong>directSourceFile</strong>: Like <code class="docutils literal notranslate"><span class="pre">sourceFile</span></code>, but a <code class="docutils literal notranslate"><span class="pre">sourceFile</span></code> property
will be added (regardless of the <code class="docutils literal notranslate"><span class="pre">location</span></code> option) directly to the
nodes, rather than the <code class="docutils literal notranslate"><span class="pre">loc</span></code> object.</p></li>
<li><p><strong>preserveParens</strong>: If this option is <code class="docutils literal notranslate"><span class="pre">true</span></code>, parenthesized expressions
are represented by (non-standard) <code class="docutils literal notranslate"><span class="pre">ParenthesizedExpression</span></code> nodes
that have a single <code class="docutils literal notranslate"><span class="pre">expression</span></code> property containing the expression
inside parentheses.</p></li>
</ul>
<p><strong>parseExpressionAt</strong><code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">offset,</span> <span class="pre">options)</span></code> will parse a single
expression in a string, and return its AST. It will not complain if
there is more of the string left after the expression.</p>
<p><strong>getLineInfo</strong><code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">offset)</span></code> can be used to get a <code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code> object for a given program string and character offset.</p>
<p><strong>tokenizer</strong><code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">options)</span></code> returns an object with a <code class="docutils literal notranslate"><span class="pre">getToken</span></code>
method that can be called repeatedly to get the next token, a <code class="docutils literal notranslate"><span class="pre">{start,</span> <span class="pre">end,</span> <span class="pre">type,</span> <span class="pre">value}</span></code> object (with added <code class="docutils literal notranslate"><span class="pre">loc</span></code> property when the
<code class="docutils literal notranslate"><span class="pre">locations</span></code> option is enabled and <code class="docutils literal notranslate"><span class="pre">range</span></code> property when the <code class="docutils literal notranslate"><span class="pre">ranges</span></code>
option is enabled). When the token’s type is <code class="docutils literal notranslate"><span class="pre">tokTypes.eof</span></code>, you
should stop calling the method, since it will keep returning that same
token forever.</p>
<p>In ES6 environment, returned result can be used as any other
protocol-compliant iterable:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">acorn</span><span class="p">.</span><span class="nx">tokenizer</span><span class="p">(</span><span class="nx">str</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// iterate over the tokens</span>
<span class="p">}</span>

<span class="c1">// transform code to array of tokens:</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">tokens</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">acorn</span><span class="p">.</span><span class="nx">tokenizer</span><span class="p">(</span><span class="nx">str</span><span class="p">)];</span>
</pre></div>
</div>
<p><strong>tokTypes</strong> holds an object mapping names to the token type objects
that end up in the <code class="docutils literal notranslate"><span class="pre">type</span></code> properties of tokens.</p>
<section id="note-on-using-with-escodegen">
<h4>Note on using with <a class="reference external" href="https://github.com/estools/escodegen">Escodegen</a><a class="headerlink" href="#note-on-using-with-escodegen" title="Permalink to this heading"></a></h4>
<p>Escodegen supports generating comments from AST, attached in
Esprima-specific format. In order to simulate same format in
Acorn, consider following example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">comments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="nx">tokens</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">ast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">acorn</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;var x = 42; // answer&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="c1">// collect ranges for each node</span>
<span class="w">	</span><span class="nx">ranges</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">	</span><span class="c1">// collect comments in Esprima&#39;s format</span>
<span class="w">	</span><span class="nx">onComment</span><span class="o">:</span><span class="w"> </span><span class="nx">comments</span><span class="p">,</span>
<span class="w">	</span><span class="c1">// collect token ranges</span>
<span class="w">	</span><span class="nx">onToken</span><span class="o">:</span><span class="w"> </span><span class="nx">tokens</span>
<span class="p">});</span>

<span class="c1">// attach comments using collected information</span>
<span class="nx">escodegen</span><span class="p">.</span><span class="nx">attachComments</span><span class="p">(</span><span class="nx">ast</span><span class="p">,</span><span class="w"> </span><span class="nx">comments</span><span class="p">,</span><span class="w"> </span><span class="nx">tokens</span><span class="p">);</span>

<span class="c1">// generate code</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">escodegen</span><span class="p">.</span><span class="nx">generate</span><span class="p">(</span><span class="nx">ast</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">comment</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}));</span>
<span class="c1">// &gt; &#39;var x = 42;    // answer&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="dist-acorn-loose-js">
<h3>dist/acorn_loose.js<a class="headerlink" href="#dist-acorn-loose-js" title="Permalink to this heading"></a></h3>
<p>This file implements an error-tolerant parser. It exposes a single
function. The loose parser is accessible in node.js via <code class="docutils literal notranslate"><span class="pre">require(&quot;acorn/dist/acorn_loose&quot;)</span></code>.</p>
<p><strong>parse_dammit</strong><code class="docutils literal notranslate"><span class="pre">(input,</span> <span class="pre">options)</span></code> takes the same arguments and
returns the same syntax tree as the <code class="docutils literal notranslate"><span class="pre">parse</span></code> function in <code class="docutils literal notranslate"><span class="pre">acorn.js</span></code>,
but never raises an error, and will do its best to parse syntactically
invalid code in as meaningful a way as it can. It’ll insert identifier
nodes with name <code class="docutils literal notranslate"><span class="pre">&quot;✖&quot;</span></code> as placeholders in places where it can’t make
sense of the input. Depends on <code class="docutils literal notranslate"><span class="pre">acorn.js</span></code>, because it uses the same
tokenizer.</p>
</section>
<section id="dist-walk-js">
<h3>dist/walk.js<a class="headerlink" href="#dist-walk-js" title="Permalink to this heading"></a></h3>
<p>Implements an abstract syntax tree walker. Will store its interface in
<code class="docutils literal notranslate"><span class="pre">acorn.walk</span></code> when loaded without a module system.</p>
<p><strong>simple</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">visitors,</span> <span class="pre">base,</span> <span class="pre">state)</span></code> does a ‘simple’ walk over
a tree. <code class="docutils literal notranslate"><span class="pre">node</span></code> should be the AST node to walk, and <code class="docutils literal notranslate"><span class="pre">visitors</span></code> an
object with properties whose names correspond to node types in the
<a class="reference external" href="https://github.com/estree/estree">ESTree spec</a>. The properties should contain functions
that will be called with the node object and, if applicable the state
at that point. The last two arguments are optional. <code class="docutils literal notranslate"><span class="pre">base</span></code> is a walker
algorithm, and <code class="docutils literal notranslate"><span class="pre">state</span></code> is a start state. The default walker will
simply visit all statements and expressions and not produce a
meaningful state. (An example of a use of state is to track scope at
each point in the tree.)</p>
<p><strong>ancestor</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">visitors,</span> <span class="pre">base,</span> <span class="pre">state)</span></code> does a ‘simple’ walk over
a tree, building up an array of ancestor nodes (including the current node)
and passing the array to the callbacks as a third parameter.</p>
<p><strong>recursive</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">state,</span> <span class="pre">functions,</span> <span class="pre">base)</span></code> does a ‘recursive’
walk, where the walker functions are responsible for continuing the
walk on the child nodes of their target node. <code class="docutils literal notranslate"><span class="pre">state</span></code> is the start
state, and <code class="docutils literal notranslate"><span class="pre">functions</span></code> should contain an object that maps node types
to walker functions. Such functions are called with <code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">state,</span> <span class="pre">c)</span></code>
arguments, and can cause the walk to continue on a sub-node by calling
the <code class="docutils literal notranslate"><span class="pre">c</span></code> argument on it with <code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">state)</span></code> arguments. The optional
<code class="docutils literal notranslate"><span class="pre">base</span></code> argument provides the fallback walker functions for node types
that aren’t handled in the <code class="docutils literal notranslate"><span class="pre">functions</span></code> object. If not given, the
default walkers will be used.</p>
<p><strong>make</strong><code class="docutils literal notranslate"><span class="pre">(functions,</span> <span class="pre">base)</span></code> builds a new walker object by using the
walker functions in <code class="docutils literal notranslate"><span class="pre">functions</span></code> and filling in the missing ones by
taking defaults from <code class="docutils literal notranslate"><span class="pre">base</span></code>.</p>
<p><strong>findNodeAt</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">start,</span> <span class="pre">end,</span> <span class="pre">test,</span> <span class="pre">base,</span> <span class="pre">state)</span></code> tries to
locate a node in a tree at the given start and/or end offsets, which
satisfies the predicate <code class="docutils literal notranslate"><span class="pre">test</span></code>. <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> can be either <code class="docutils literal notranslate"><span class="pre">null</span></code>
(as wildcard) or a number. <code class="docutils literal notranslate"><span class="pre">test</span></code> may be a string (indicating a node
type) or a function that takes <code class="docutils literal notranslate"><span class="pre">(nodeType,</span> <span class="pre">node)</span></code> arguments and
returns a boolean indicating whether this node is interesting. <code class="docutils literal notranslate"><span class="pre">base</span></code>
and <code class="docutils literal notranslate"><span class="pre">state</span></code> are optional, and can be used to specify a custom walker.
Nodes are tested from inner to outer, so if two nodes match the
boundaries, the inner one will be preferred.</p>
<p><strong>findNodeAround</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">pos,</span> <span class="pre">test,</span> <span class="pre">base,</span> <span class="pre">state)</span></code> is a lot like
<code class="docutils literal notranslate"><span class="pre">findNodeAt</span></code>, but will match any node that exists ‘around’ (spanning)
the given position.</p>
<p><strong>findNodeAfter</strong><code class="docutils literal notranslate"><span class="pre">(node,</span> <span class="pre">pos,</span> <span class="pre">test,</span> <span class="pre">base,</span> <span class="pre">state)</span></code> is similar to
<code class="docutils literal notranslate"><span class="pre">findNodeAround</span></code>, but will match all nodes <em>after</em> the given position
(testing outer nodes before inner nodes).</p>
</section>
</section>
<section id="command-line-interface">
<h2>Command line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">bin/acorn</span></code> utility can be used to parse a file from the command
line. It accepts as arguments its input file and the following
options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--ecma3|--ecma5|--ecma6|--ecma7</span></code>: Sets the ECMAScript version to parse. Default is
version 5.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--module</span></code>: Sets the parsing mode to <code class="docutils literal notranslate"><span class="pre">&quot;module&quot;</span></code>. Is set to <code class="docutils literal notranslate"><span class="pre">&quot;script&quot;</span></code> otherwise.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--locations</span></code>: Attaches a “loc” object to each node with “start” and
“end” subobjects, each of which contains the one-based line and
zero-based column numbers in <code class="docutils literal notranslate"><span class="pre">{line,</span> <span class="pre">column}</span></code> form.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--allow-hash-bang</span></code>: If the code starts with the characters #! (as in a shellscript), the first line will be treated as a comment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--compact</span></code>: No whitespace is used in the AST output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--silent</span></code>: Do not output the AST, just return the exit status.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--help</span></code>: Print the usage information and quit.</p></li>
</ul>
<p>The utility spits out the syntax tree as JSON data.</p>
</section>
<section id="build-system">
<h2>Build system<a class="headerlink" href="#build-system" title="Permalink to this heading"></a></h2>
<p>Acorn is written in ECMAScript 6, as a set of small modules, in the
project’s <code class="docutils literal notranslate"><span class="pre">src</span></code> directory, and compiled down to bigger ECMAScript 3
files in <code class="docutils literal notranslate"><span class="pre">dist</span></code> using <a class="reference external" href="http://browserify.org">Browserify</a> and
<a class="reference external" href="http://babeljs.io/">Babel</a>. If you are already using Babel, you can
consider including the modules directly.</p>
<p>The command-line test runner (<code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">test</span></code>) uses the ES6 modules. The
browser-based test page (<code class="docutils literal notranslate"><span class="pre">test/index.html</span></code>) uses the compiled modules.
The <code class="docutils literal notranslate"><span class="pre">bin/build-acorn.js</span></code> script builds the latter from the former.</p>
<p>If you are working on Acorn, you’ll probably want to try the code out
directly, without an intermediate build step. In your scripts, you can
register the Babel require shim like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>require(&quot;babel-core/register&quot;)
</pre></div>
</div>
<p>That will allow you to directly <code class="docutils literal notranslate"><span class="pre">require</span></code> the ES6 modules.</p>
</section>
<section id="plugins">
<h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this heading"></a></h2>
<p>Acorn is designed support allow plugins which, within reasonable
bounds, redefine the way the parser works. Plugins can add new token
types and new tokenizer contexts (if necessary), and extend methods in
the parser object. This is not a clean, elegant API—using it requires
an understanding of Acorn’s internals, and plugins are likely to break
whenever those internals are significantly changed. But still, it is
<em>possible</em>, in this way, to create parsers for JavaScript dialects
without forking all of Acorn. And in principle it is even possible to
combine such plugins, so that if you have, for example, a plugin for
parsing types and a plugin for parsing JSX-style XML literals, you
could load them both and parse code with both JSX tags and types.</p>
<p>A plugin should register itself by adding a property to
<code class="docutils literal notranslate"><span class="pre">acorn.plugins</span></code>, which holds a function. Calling <code class="docutils literal notranslate"><span class="pre">acorn.parse</span></code>, a
<code class="docutils literal notranslate"><span class="pre">plugins</span></code> option can be passed, holding an object mapping plugin names
to configuration values (or just <code class="docutils literal notranslate"><span class="pre">true</span></code> for plugins that don’t take
options). After the parser object has been created, the initialization
functions for the chosen plugins are called with <code class="docutils literal notranslate"><span class="pre">(parser,</span> <span class="pre">configValue)</span></code> arguments. They are expected to use the <code class="docutils literal notranslate"><span class="pre">parser.extend</span></code>
method to extend parser methods. For example, the <code class="docutils literal notranslate"><span class="pre">readToken</span></code> method
could be extended like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">parser</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;readToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">nextMethod</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Reading a token!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">nextMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">code</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">nextMethod</span></code> argument passed to <code class="docutils literal notranslate"><span class="pre">extend</span></code>’s second argument is the
previous value of this method, and should usually be called through to
whenever the extended method does not handle the call itself.</p>
<p>Similarly, the loose parser allows plugins to register themselves via
<code class="docutils literal notranslate"><span class="pre">acorn.pluginsLoose</span></code>.  The extension mechanism is the same as for the
normal parser:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">looseParser</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="s2">&quot;readToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">nextMethod</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Reading a token in the loose parser!&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">nextMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
</div>
<section id="existing-plugins">
<h3>Existing plugins<a class="headerlink" href="#existing-plugins" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/RReverser/acorn-jsx"><code class="docutils literal notranslate"><span class="pre">acorn-jsx</span></code></a>: Parse <a class="reference external" href="https://github.com/facebook/jsx">Facebook JSX syntax extensions</a></p></li>
<li><p><a class="reference external" href="https://github.com/MatAtBread/acorn-es7-plugin/"><code class="docutils literal notranslate"><span class="pre">acorn-es7-plugin</span></code></a>: Parse <a class="reference external" href="https://github.com/tc39/ecmascript-asyncawait">async/await syntax proposal</a></p></li>
<li><p><a class="reference external" href="https://github.com/UXtemple/acorn-object-spread"><code class="docutils literal notranslate"><span class="pre">acorn-object-spread</span></code></a>: Parse <a class="reference external" href="https://github.com/sebmarkbage/ecmascript-rest-spread">object spread syntax proposal</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/acorn-es7"><code class="docutils literal notranslate"><span class="pre">acorn-es7</span></code></a>: Parse <a class="reference external" href="https://github.com/wycats/javascript-decorators">decorator syntax proposal</a></p></li>
<li><p><a class="reference external" href="https://www.npmjs.com/package/acorn-objj"><code class="docutils literal notranslate"><span class="pre">acorn-objj</span></code></a>: <a class="reference external" href="http://www.cappuccino-project.org/learn/objective-j.html">Objective-J</a> language parser built as Acorn plugin</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, MirRoR4s.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>